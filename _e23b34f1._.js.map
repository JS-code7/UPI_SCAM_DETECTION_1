{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jeet%20soni/OneDrive/Documents/Desktop/UPI%20APP/src/app/actions.ts"],"sourcesContent":["'use server';\r\n\r\nimport { scanContentForFraud, ScanContentForFraudOutput } from '../ai/flows/scan-content-for-fraud';\r\nimport { z } from 'zod';\r\n\r\nconst KNOWN_SCAMMERS = [\r\n  'scammer@upi',\r\n  'fraud@scambank',\r\n  'badactor@fakeupi'\r\n];\r\n\r\n// This would typically be a database check\r\nlet WHITELIST_STORAGE = new Set(['admin-trusted@upi']);\r\n\r\nexport async function getWhitelist() {\r\n  return Array.from(WHITELIST_STORAGE);\r\n}\r\n\r\nexport async function addToWhitelist(upiId: string) {\r\n  WHITELIST_STORAGE.add(upiId);\r\n  return true;\r\n}\r\n\r\nexport async function removeFromWhitelist(id: string) {\r\n  WHITELIST_STORAGE.delete(id);\r\n  return true;\r\n}\r\n\r\n\r\nexport type CheckResult = {\r\n  status: 'idle' | 'safe' | 'scam' | 'trusted' | 'error';\r\n  upiId: string;\r\n  reason: string;\r\n  probability?: number;\r\n};\r\n\r\nconst UpiSchema = z.object({\r\n  upiId: z.string().min(3, { message: 'UPI ID must be at least 3 characters.' }).includes('@', { message: 'Invalid UPI ID format.' }),\r\n});\r\n\r\nexport async function checkUpi(prevState: CheckResult, formData: FormData): Promise<CheckResult> {\r\n  const upiId = formData.get('upiId') as string;\r\n  \r\n  if (!upiId) {\r\n    return { status: 'idle', upiId: '', reason: '' };\r\n  }\r\n  \r\n  const validatedFields = UpiSchema.safeParse({\r\n    upiId,\r\n  });\r\n\r\n  if (!validatedFields.success) {\r\n      return {\r\n          status: 'error',\r\n          upiId: upiId,\r\n          reason: validatedFields.error.errors[0].message,\r\n      };\r\n  }\r\n  \r\n  const currentWhitelist = await getWhitelist();\r\n  if (currentWhitelist.includes(upiId)) {\r\n    return { status: 'trusted', upiId, reason: 'This ID is in the admin trusted whitelist.' };\r\n  }\r\n\r\n  if (KNOWN_SCAMMERS.includes(upiId.toLowerCase())) {\r\n    return { status: 'scam', upiId, reason: 'This ID is on a known scammer blacklist.', probability: 1.0 };\r\n  }\r\n\r\n  try {\r\n    const result: ScanContentForFraudOutput = await scanContentForFraud({ scannedText: upiId });\r\n\r\n    if (result.isFraudulent) {\r\n      return {\r\n        status: 'scam',\r\n        upiId,\r\n        reason: result.reason,\r\n        probability: result.fraudProbability\r\n      };\r\n    } else {\r\n      return {\r\n        status: 'safe',\r\n        upiId,\r\n        reason: 'No immediate signs of fraud were detected.'\r\n      };\r\n    }\r\n  } catch (error) {\r\n    console.error('AI check failed:', error);\r\n    return { status: 'error', upiId, reason: 'Could not perform the analysis. Please try again later.' };\r\n  }\r\n}"],"names":[],"mappings":";;;;;;;;;;;;;AAGA;;;;;;AAEA,MAAM,iBAAiB;IACrB;IACA;IACA;CACD;AAED,2CAA2C;AAC3C,IAAI,oBAAoB,IAAI,IAAI;IAAC;CAAoB;AAE9C,eAAe;IACpB,OAAO,MAAM,IAAI,CAAC;AACpB;AAEO,eAAe,eAAe,KAAa;IAChD,kBAAkB,GAAG,CAAC;IACtB,OAAO;AACT;AAEO,eAAe,oBAAoB,EAAU;IAClD,kBAAkB,MAAM,CAAC;IACzB,OAAO;AACT;AAUA,MAAM,YAAY,kKAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACzB,OAAO,kKAAA,CAAA,IAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG;QAAE,SAAS;IAAwC,GAAG,QAAQ,CAAC,KAAK;QAAE,SAAS;IAAyB;AACnI;AAEO,eAAe,SAAS,SAAsB,EAAE,QAAkB;IACvE,MAAM,QAAQ,SAAS,GAAG,CAAC;IAE3B,IAAI,CAAC,OAAO;QACV,OAAO;YAAE,QAAQ;YAAQ,OAAO;YAAI,QAAQ;QAAG;IACjD;IAEA,MAAM,kBAAkB,UAAU,SAAS,CAAC;QAC1C;IACF;IAEA,IAAI,CAAC,gBAAgB,OAAO,EAAE;QAC1B,OAAO;YACH,QAAQ;YACR,OAAO;YACP,QAAQ,gBAAgB,KAAK,CAAC,MAAM,CAAC,EAAE,CAAC,OAAO;QACnD;IACJ;IAEA,MAAM,mBAAmB,MAAM;IAC/B,IAAI,iBAAiB,QAAQ,CAAC,QAAQ;QACpC,OAAO;YAAE,QAAQ;YAAW;YAAO,QAAQ;QAA6C;IAC1F;IAEA,IAAI,eAAe,QAAQ,CAAC,MAAM,WAAW,KAAK;QAChD,OAAO;YAAE,QAAQ;YAAQ;YAAO,QAAQ;YAA4C,aAAa;QAAI;IACvG;IAEA,IAAI;QACF,MAAM,SAAoC,MAAM,oBAAoB;YAAE,aAAa;QAAM;QAEzF,IAAI,OAAO,YAAY,EAAE;YACvB,OAAO;gBACL,QAAQ;gBACR;gBACA,QAAQ,OAAO,MAAM;gBACrB,aAAa,OAAO,gBAAgB;YACtC;QACF,OAAO;YACL,OAAO;gBACL,QAAQ;gBACR;gBACA,QAAQ;YACV;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO;YAAE,QAAQ;YAAS;YAAO,QAAQ;QAA0D;IACrG;AACF;;;IA3EsB;IAIA;IAKA;IAiBA;;AA1BA,+OAAA;AAIA,+OAAA;AAKA,+OAAA;AAiBA,+OAAA","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jeet%20soni/OneDrive/Documents/Desktop/UPI%20APP/.next-internal/server/app/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {checkUpi as '60365d0bdc7efdd7d39d1b420a9367e58257f83db4'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jeet%20soni/OneDrive/Documents/Desktop/UPI%20APP/src/components/header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Header = registerClientReference(\n    function() { throw new Error(\"Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/header.tsx <module evaluation>\",\n    \"Header\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,SAAS,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACxC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,2DACA","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jeet%20soni/OneDrive/Documents/Desktop/UPI%20APP/src/components/header.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Header = registerClientReference(\n    function() { throw new Error(\"Attempted to call Header() from the server but Header is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/header.tsx\",\n    \"Header\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,SAAS,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACxC;IAAa,MAAM,IAAI,MAAM;AAA4N,GACzP,uCACA","debugId":null}},
    {"offset": {"line": 206, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 216, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jeet%20soni/OneDrive/Documents/Desktop/UPI%20APP/src/components/main-page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const MainPage = registerClientReference(\n    function() { throw new Error(\"Attempted to call MainPage() from the server but MainPage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/main-page.tsx <module evaluation>\",\n    \"MainPage\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,WAAW,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,8DACA","debugId":null}},
    {"offset": {"line": 230, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jeet%20soni/OneDrive/Documents/Desktop/UPI%20APP/src/components/main-page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const MainPage = registerClientReference(\n    function() { throw new Error(\"Attempted to call MainPage() from the server but MainPage is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/main-page.tsx\",\n    \"MainPage\",\n);\n"],"names":[],"mappings":";;;AAAA;;AACO,MAAM,WAAW,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,0CACA","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 254, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Jeet%20soni/OneDrive/Documents/Desktop/UPI%20APP/src/app/page.tsx"],"sourcesContent":["import { Header } from \"@/components/header\";\r\nimport { MainPage } from \"@/components/main-page\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-background text-foreground\">\r\n      <Header />\r\n      <main className=\"flex-1 flex flex-col items-center justify-center p-4\">\r\n        <MainPage />\r\n      </main>\r\n       <footer className=\"text-center p-4 text-xs text-muted-foreground\">\r\n        <p>\r\n          By submitting data above, you are agreeing to our Terms of Service and\r\n          Privacy Notice, and to the sharing of your Sample submission with the\r\n          security community. Please do not submit any personal information; we are\r\n          not responsible for the contents of your submission. Learn more.\r\n        </p>\r\n        <p className=\"mt-2\">\r\n          Want to automate submissions? Check our API, or access your API key.\r\n        </p>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAEe,SAAS;IACtB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,4HAAA,CAAA,SAAM;;;;;0BACP,8OAAC;gBAAK,WAAU;0BACd,cAAA,8OAAC,kIAAA,CAAA,WAAQ;;;;;;;;;;0BAEV,8OAAC;gBAAO,WAAU;;kCACjB,8OAAC;kCAAE;;;;;;kCAMH,8OAAC;wBAAE,WAAU;kCAAO;;;;;;;;;;;;;;;;;;AAM5B","debugId":null}}]
}